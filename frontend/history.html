<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ò—Å—Ç–æ—Ä–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π - BeauTips</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="./base.css">
    <link rel="stylesheet" href="./history.css">

</head>

<body>
    <!-- Header -->
    <header class="navbar">
        <div class="logo-nav-container">
            <div class="logo">
                <img id="logo" src="./images/logo.png" alt="BeauTips logo">
            </div>

            <nav class="nav">
                <ul class="nav-links">
                    <li><a href="./index.html" class="nav-link">–ì–ª–∞–≤–Ω–∞—è</a></li>
                    <li><a href="./index.html#about" class="nav-link">–û –Ω–∞—Å</a></li>
                    <li><a href="./index.html#footer22" class="nav-link">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a></li>
                </ul>
            </nav>
        </div>

        <div class="search-profile">
            <div class="profile-wrapper">
                <a href="./profile.html" class="profile-icon">
                    <img src="./images/profile.png" alt="Profile icon">
                </a>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="history-page">
        <div class="history-container">
            
            <!-- Page Header -->
            <div class="page-header">
                <div>
                    <h1 class="history-title">–ò—Å—Ç–æ—Ä–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π</h1>
                    <p class="history-subtitle">–í–∞—à–∏ –ø—Ä–æ—à–ª—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–∞ –∫–æ–∂–∏</p>
                </div>
                <button onclick="exportToCSV()" class="btn btn-outline">
                    <span>üì•</span>
                    <span>–≠–∫—Å–ø–æ—Ä—Ç CSV</span>
                </button>
            </div>

            <!-- Statistics Cards -->
            <div id="statsContainer" class="stats-container" style="display: none;">
                <!-- Stats –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JS -->
            </div>

            <!-- Filters Section -->
            <div class="filters-section">
                <div class="filters-row">
                    <!-- Search -->
                    <div class="filter-group">
                        <label for="searchInput">üîç –ü–æ–∏—Å–∫</label>
                        <input 
                            type="text" 
                            id="searchInput" 
                            class="filter-input" 
                            placeholder="–ü–æ–∏—Å–∫ –ø–æ –∞–Ω–∞–ª–∏–∑—É..."
                        >
                    </div>

                    <!-- Scenario Filter -->
                    <div class="filter-group">
                        <label for="scenarioFilter">üìã –°—Ü–µ–Ω–∞—Ä–∏–π</label>
                        <select id="scenarioFilter" class="filter-select">
                            <option value="">–í—Å–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏</option>
                            <option value="–ü–æ–¥–æ–±—Ä–∞—Ç—å —É—Ö–æ–¥ –¥–ª—è –º–æ–µ–π –∫–æ–∂–∏">–ü–æ–¥–±–æ—Ä —É—Ö–æ–¥–∞</option>
                            <option value="–ú–æ–∂–Ω–æ –ª–∏ —Å–æ—á–µ—Ç–∞—Ç—å —ç—Ç–∏ —Å—Ä–µ–¥—Å—Ç–≤–∞?">–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å—Ä–µ–¥—Å—Ç–≤</option>
                            <option value="–†–∞–∑–æ–±—Ä–∞—Ç—å –º–æ—é –∫–æ—Å–º–µ—Ç–∏–∫—É">–†–∞–∑–±–æ—Ä –∫–æ—Å–º–µ—Ç–∏–∫–∏</option>
                            <option value="–û–±—ä—è—Å–Ω–∏, –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ä–µ–¥—Å—Ç–≤–æ">–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è</option>
                        </select>
                    </div>

                    <!-- Sort -->
                    <div class="filter-group">
                        <label for="sortBy">‚¨áÔ∏è –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞</label>
                        <select id="sortBy" class="filter-select">
                            <option value="date-desc">–ù–æ–≤—ã–µ –ø–µ—Ä–≤—ã–µ</option>
                            <option value="date-asc">–°—Ç–∞—Ä—ã–µ –ø–µ—Ä–≤—ã–µ</option>
                            <option value="scenario-asc">–ü–æ —Å—Ü–µ–Ω–∞—Ä–∏—é (–ê-–Ø)</option>
                            <option value="scenario-desc">–ü–æ —Å—Ü–µ–Ω–∞—Ä–∏—é (–Ø-–ê)</option>
                        </select>
                    </div>
                </div>

                <!-- Date Range Filter -->
                <div class="filters-row">
                    <div class="filter-group">
                        <label for="dateFrom">üìÖ –û—Ç</label>
                        <input 
                            type="date" 
                            id="dateFrom" 
                            class="filter-input"
                        >
                    </div>

                    <div class="filter-group">
                        <label for="dateTo">üìÖ –î–æ</label>
                        <input 
                            type="date" 
                            id="dateTo" 
                            class="filter-input"
                        >
                    </div>

                    <div class="filter-group">
                        <button onclick="resetFilters()" class="btn btn-secondary" style="margin-top: 24px;">
                            üîÑ –°–±—Ä–æ—Å–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã
                        </button>
                    </div>
                </div>
            </div>

            <!-- Loading State -->
            <div id="loading" class="loading-state">
                <div class="spinner"></div>
                <p>–ó–∞–≥—Ä—É–∑–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏...</p>
            </div>

            <!-- Error State -->
            <div id="error" class="error-state" style="display: none;">
                <p id="errorMessage">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏</p>
                <button onclick="loadHistory()" class="retry-btn">–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞</button>
            </div>

            <!-- Empty State -->
            <div id="empty" class="empty-state" style="display: none;">
                <div class="empty-icon">üìã</div>
                <h2>–ü–æ–∫–∞ –Ω–µ—Ç –∏—Å—Ç–æ—Ä–∏–∏</h2>
                <p>–ü—Ä–æ–π–¥–∏—Ç–µ –∫–≤–∏–∑, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –ø–µ—Ä–≤—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</p>
                <a href="./chat.html" class="start-quiz-btn">–ü—Ä–æ–π—Ç–∏ –∫–≤–∏–∑</a>
            </div>

            <!-- History List -->
            <div id="historyList" class="history-list" style="display: none;">
                <!-- –ò—Å—Ç–æ—Ä–∏—è –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∞ —á–µ—Ä–µ–∑ JS -->
            </div>

            <!-- Pagination -->
            <div id="pagination" class="pagination" style="display: none;">
                <!-- –ü–∞–≥–∏–Ω–∞—Ü–∏—è –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∞ —á–µ—Ä–µ–∑ JS -->
            </div>

        </div>
    </main>

    <!-- Footer -->
    <footer class="footer" id="footer22">
        <div class="footer-inner">
            <div class="footer-logo">
                <img src="./images/logo.png" alt="Beautips logo">
            </div>

            <div class="footer-right">
                <div class="footer-social-label">Social media</div>

                <div class="footer-social-list">
                    <a href="https://www.tiktok.com/@beautips.kg?_r=1&_t=ZS-92QRBdhPfsG" class="footer-social-row"
                        target="_blank">
                        <span class="footer-social-text">Tik Tok</span>
                        <img src="./images/tiktok.png" alt="TikTok" class="footer-social-icon">
                    </a>
                    <a href="https://t.me/+_rdDXP1OQ_kwNDNi" class="footer-social-row" target="_blank">
                        <span class="footer-social-text">Telegram</span>
                        <img src="./images/telegram.png" alt="Telegram" class="footer-social-icon">
                    </a>
                    <a href="https://www.instagram.com/beautips.kg" class="footer-social-row" target="_blank">
                        <span class="footer-social-text">Instagram</span>
                        <img src="./images/instagram.png" alt="Instagram" class="footer-social-icon">
                    </a>
                </div>
            </div>
        </div>
    </footer>

    <script src="./api.js"></script>
    <script src="./history.js"></script>
</body>

</html>